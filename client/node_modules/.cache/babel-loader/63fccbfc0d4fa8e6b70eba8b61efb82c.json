{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/hyunkang/Desktop/School/3-2/\\u1103\\u1166\\u110B\\u1175\\u1110\\u1165\\u1107\\u1166\\u110B\\u1175\\u1109\\u1173/Database2020/client/src/Components/Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport styles from \"../CSS/loginstyle.module.css\";\nimport { useHistory } from \"react-router-dom\";\nimport logo from \"../Images/로고.png\";\nimport { User } from \"./classes\";\nexport const Login = () => {\n  _s();\n\n  const [id, setID] = useState();\n  const [pw, setPW] = useState();\n\n  const axios = require(\"axios\");\n\n  var type = {\n    Submitter: \"제출자\",\n    Administrator: \"관리자\",\n    Estimator: \"평가자\"\n  };\n  var history = useHistory();\n  const [data, setData] = useState();\n\n  const handleLogin = async () => {\n    const url = \"/api/loginAuth\";\n    const res = await axios.get(url + `/${id}&${pw}`).catch(err => {\n      if (err.response) {\n        console.log(err.responsse);\n      } else if (err.request) {\n        console.log(\"never recieved a response\");\n      }\n    });\n    if (res && res.data) setData(res);\n  };\n\n  useEffect(() => {\n    console.log(id);\n    console.log(pw);\n\n    if (!data) {\n      return;\n    }\n\n    if (data.data.length == 0) {\n      alert(\"아이디와 비밀번호를 확인해주세요.\");\n      return;\n    }\n\n    let loginInfo = new User(data.data[0].AccountID, data.data[0].UserID, type[data.data[0].Role], data.data[0].Name, data.data[0].Gender.data, data.data[0].Address, data.data[0].BirthDate, data.data[0].Phone);\n    localStorage.setItem(`user`, JSON.stringify(loginInfo));\n    history.push(\"/\");\n  }, [data]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.main_container,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.div_signin,\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        className: styles.main_logo,\n        src: logo,\n        alt: \"\\uBA54\\uC778 \\uB85C\\uACE0\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: `${styles.notice} ${styles.login_p}`,\n        children: \"\\uB85C\\uADF8\\uC778 \\uD558\\uC138\\uC694\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        id: \"inputEmail\",\n        className: styles.div_input,\n        placeholder: \"User ID\",\n        value: id,\n        onChange: e => setID(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        id: \"inputPassword\",\n        className: styles.div_input,\n        placeholder: \"Password\",\n        value: pw,\n        onChange: e => setPW(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: styles.button,\n        type: \"submit\",\n        onClick: () => handleLogin(),\n        children: \"\\uB85C\\uADF8\\uC778\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"\",\n        id: styles.div_signup,\n        className: styles.login_a,\n        href: \"./signup\",\n        children: \"\\uD68C\\uC6D0\\uAC00\\uC785\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: `${styles.copyright} ${styles.login_p}`,\n        children: \"\\xA9 \\uC5F0\\uC138\\uB300\\uD559\\uAD50 \\uB370\\uC774\\uD130\\uBCA0\\uC774\\uC2A4 14\\uD300\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Login, \"uSO4TdFQBnHDRScvt+GUMxb5PY4=\", false, function () {\n  return [useHistory];\n});\n\n_c = Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/Users/hyunkang/Desktop/School/3-2/데이터베이스/Database2020/client/src/Components/Login.js"],"names":["React","useState","useEffect","styles","useHistory","logo","User","Login","id","setID","pw","setPW","axios","require","type","Submitter","Administrator","Estimator","history","data","setData","handleLogin","url","res","get","catch","err","response","console","log","responsse","request","length","alert","loginInfo","AccountID","UserID","Role","Name","Gender","Address","BirthDate","Phone","localStorage","setItem","JSON","stringify","push","main_container","div_signin","main_logo","notice","login_p","div_input","e","target","value","button","div_signup","login_a","copyright"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport styles from \"../CSS/loginstyle.module.css\";\nimport { useHistory } from \"react-router-dom\";\nimport logo from \"../Images/로고.png\";\nimport { User } from \"./classes\";\n\nexport const Login = () => {\n  const [id, setID] = useState();\n  const [pw, setPW] = useState();\n  const axios = require(\"axios\");\n  var type = {\n    Submitter: \"제출자\",\n    Administrator: \"관리자\",\n    Estimator: \"평가자\",\n  };\n  var history = useHistory();\n  const [data, setData] = useState();\n\n  const handleLogin = async () => {\n    const url = \"/api/loginAuth\";\n    const res = await axios.get(url + `/${id}&${pw}`).catch((err) => {\n      if (err.response) {\n        console.log(err.responsse);\n      } else if (err.request) {\n        console.log(\"never recieved a response\");\n      }\n    });\n    if (res && res.data) setData(res);\n  };\n\n  useEffect(() => {\n    console.log(id);\n    console.log(pw);\n    if (!data) {\n      return;\n    }\n    if (data.data.length == 0) {\n      alert(\"아이디와 비밀번호를 확인해주세요.\");\n      return;\n    }\n    let loginInfo = new User(\n      data.data[0].AccountID,\n      data.data[0].UserID,\n      type[data.data[0].Role],\n      data.data[0].Name,\n      data.data[0].Gender.data,\n      data.data[0].Address,\n      data.data[0].BirthDate,\n      data.data[0].Phone\n    );\n    localStorage.setItem(`user`, JSON.stringify(loginInfo));\n    history.push(\"/\");\n  }, [data]);\n\n  return (\n    <div className={styles.main_container}>\n      <div className={styles.div_signin}>\n        <img className={styles.main_logo} src={logo} alt=\"메인 로고\" />\n        <p className={`${styles.notice} ${styles.login_p}`}>로그인 하세요</p>\n        <input\n          type=\"email\"\n          id=\"inputEmail\"\n          className={styles.div_input}\n          placeholder=\"User ID\"\n          value={id}\n          onChange={(e) => setID(e.target.value)}\n        />\n        <input\n          type=\"password\"\n          id=\"inputPassword\"\n          className={styles.div_input}\n          placeholder=\"Password\"\n          value={pw}\n          onChange={(e) => setPW(e.target.value)}\n        />\n        <br />\n        <button\n          className={styles.button}\n          type=\"submit\"\n          onClick={() => handleLogin()}\n        >\n          로그인\n        </button>\n        <br />\n        <a\n          href=\"\"\n          id={styles.div_signup}\n          className={styles.login_a}\n          href=\"./signup\"\n        >\n          회원가입\n        </a>\n        <p className={`${styles.copyright} ${styles.login_p}`}>\n          &copy; 연세대학교 데이터베이스 14팀\n        </p>\n      </div>\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}